<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Simple Online Shop — Index</title>
  <meta name="description" content="A simple, responsive single-file online shop demo with product grid and cart." />
  <style>
    /* --- Basic reset --- */
    *{box-sizing:border-box;margin:0;padding:0}
    html,body,#app{height:100%}
    body{font-family:Inter,Segoe UI,Roboto,system-ui,Arial;line-height:1.4;color:#222;background:#f6f7fb}

    /* --- Layout --- */
    header{background:#fff;border-bottom:1px solid #e6e9ef;padding:18px 20px;display:flex;align-items:center;justify-content:space-between;gap:12px}
    .brand{display:flex;align-items:center;gap:10px}
    .logo{height:44px;width:44px;border-radius:8px;background:linear-gradient(135deg,#7dd3fc,#60a5fa);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700}
    .search{flex:1;max-width:540px;display:flex;align-items:center}
    .search input{width:100%;padding:10px 12px;border-radius:8px;border:1px solid #dfe6f2;background:#fff}
    .actions{display:flex;gap:10px;align-items:center}
    .btn{background:#2563eb;color:#fff;padding:9px 12px;border-radius:8px;border:none;cursor:pointer}
    .btn.secondary{background:#fff;color:#2563eb;border:1px solid #cfe0ff}

    /* --- Main --- */
    main{padding:24px;max-width:1200px;margin:18px auto}
    .controls{display:flex;gap:12px;align-items:center;margin-bottom:18px}
    .filter{padding:8px 10px;border-radius:8px;border:1px solid #e0e6ef;background:#fff}

    /* --- Product grid --- */
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px}
    .card{background:#fff;border-radius:10px;overflow:hidden;border:1px solid #eef2f7;display:flex;flex-direction:column}
    .img-wrap{height:180px;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,#f8fafc,#fff)}
    .img-wrap img{max-width:86%;max-height:86%;object-fit:contain}
    .card-body{padding:12px;display:flex;flex-direction:column;gap:8px;flex:1}
    .title{font-weight:600;color:#111}
    .price{font-weight:700;color:#0b6d49}
    .meta{font-size:13px;color:#586277}
    .card-foot{display:flex;gap:8px;align-items:center;padding:12px;border-top:1px solid #f1f4f8}

    /* --- Cart --- */
    .cart-panel{position:fixed;right:20px;bottom:20px;width:340px;max-height:70vh;background:#fff;border-radius:12px;box-shadow:0 14px 34px rgba(16,24,40,.15);overflow:hidden;border:1px solid #e7ecf6;display:flex;flex-direction:column}
    .cart-head{padding:12px 14px;border-bottom:1px solid #f1f4f8;display:flex;justify-content:space-between;align-items:center}
    .cart-body{overflow:auto;padding:12px;flex:1}
    .cart-item{display:flex;gap:12px;align-items:center;padding:8px 0;border-bottom:1px dashed #f1f4f8}
    .cart-item img{width:56px;height:56px;object-fit:cover;border-radius:6px}
    .cart-foot{padding:12px;border-top:1px solid #f1f4f8;display:flex;justify-content:space-between;align-items:center}

    /* --- Empty state and responsiveness --- */
    .empty{padding:40px;text-align:center;color:#64748b}
    @media (max-width:760px){
      .cart-panel{right:12px;left:12px;width:auto}
      header{flex-wrap:wrap}
      .search{order:3;width:100%;margin-top:8px}
    }

    /* small helpers */
    .badge{background:#f1f5f9;color:#0f172a;padding:6px 8px;border-radius:8px;font-weight:600}
    .muted{color:#6b7280;font-size:14px}
    .qtybtn{padding:6px 8px;border-radius:6px;border:1px solid #e6edf7;background:#fff;cursor:pointer}
  </style>
</head>
<body>
  <div id="app">
    <header>
      <div class="brand">
        <div class="logo">OS</div>
        <div>
          <div style="font-weight:700">Online Shop</div>
          <div class="muted" style="font-size:13px">Simple demo store</div>
        </div>
      </div>

      <div class="search">
        <input id="searchInput" placeholder="Search products, e.g. 'mug', 'shirt'..." />
      </div>

      <div class="actions">
        <button class="btn secondary" id="viewAllBtn">All products</button>
        <button class="btn" id="openCartBtn">Cart (<span id="cartCount">0</span>)</button>
      </div>
    </header>

    <main>
      <div class="controls">
        <select id="categoryFilter" class="filter">
          <option value="">All categories</option>
        </select>

        <select id="sortBy" class="filter">
          <option value="default">Sort: Featured</option>
          <option value="price-asc">Price: Low → High</option>
          <option value="price-desc">Price: High → Low</option>
          <option value="name-asc">Name: A → Z</option>
        </select>

        <div style="margin-left:auto;display:flex;gap:10px;align-items:center">
          <div class="badge" id="productsCount">0</div>
          <div class="muted">products</div>
        </div>
      </div>

      <section class="grid" id="productGrid" aria-live="polite"></section>
    </main>

    <!-- Cart panel (hidden by default) -->
    <aside class="cart-panel" id="cartPanel" style="display:none" aria-hidden="true">
      <div class="cart-head">
        <div style="font-weight:700">Your Cart</div>
        <div><button class="btn secondary" id="closeCartBtn">Close</button></div>
      </div>
      <div class="cart-body" id="cartBody">
        <div class="empty">Cart is empty. Add products to get started.</div>
      </div>
      <div class="cart-foot">
        <div style="font-weight:700">Total: <span id="cartTotal">$0.00</span></div>
        <div>
          <button class="btn" id="checkoutBtn">Checkout</button>
        </div>
      </div>
    </aside>

    <!-- Checkout modal (simple) -->
    <div id="checkoutModal" style="display:none;position:fixed;inset:0;background:rgba(2,6,23,0.4);align-items:center;justify-content:center;padding:20px">
      <div style="background:#fff;border-radius:12px;max-width:520px;width:100%;padding:18px;box-shadow:0 10px 30px rgba(2,6,23,.2)">
        <h3>Checkout</h3>
        <p class="muted">This demo does not process payments. Use this to demonstrate flow.</p>
        <div style="display:flex;flex-direction:column;gap:8px;margin-top:12px">
          <input id="customerName" placeholder="Full name" style="padding:10px;border-radius:8px;border:1px solid #e6edf7" />
          <input id="customerEmail" placeholder="Email" style="padding:10px;border-radius:8px;border:1px solid #e6edf7" />
        </div>
        <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px">
          <button class="btn secondary" id="cancelCheckout">Cancel</button>
          <button class="btn" id="confirmCheckout">Confirm order</button>
        </div>
      </div>
    </div>

  </div>

  <script>
    /* -----------------
       Demo data & state
       -----------------*/
    const products = [
      {id:1,name:'Classic Coffee Mug',category:'Home',price:7.99,img:'https://images.unsplash.com/photo-1509042239860-f550ce710b93?auto=format&fit=crop&w=600&q=60',desc:'12oz ceramic mug, dishwasher safe.'},
      {id:2,name:'Minimal Notebook',category:'Stationery',price:4.5,img:'https://images.unsplash.com/photo-1515879218367-8466d910aaa4?auto=format&fit=crop&w=600&q=60',desc:'80-page ruled notebook.'},
      {id:3,name:'Organic Cotton T-Shirt',category:'Apparel',price:18.0,img:'https://images.unsplash.com/photo-1520975914244-2e5f2d7b7b9c?auto=format&fit=crop&w=600&q=60',desc:'Soft, breathable tee.'},
      {id:4,name:'Wireless Earbuds',category:'Electronics',price:29.99,img:'https://images.unsplash.com/photo-1585386959984-a4155226a4c0?auto=format&fit=crop&w=600&q=60',desc:'Compact charging case included.'},
      {id:5,name:'Wooden Serving Board',category:'Home',price:22.5,img:'https://images.unsplash.com/photo-1541698444083-023c97d3f4b6?auto=format&fit=crop&w=600&q=60',desc:'Small charcuterie board.'},
      {id:6,name:'Ballpoint Pen (Pack of 3)',category:'Stationery',price:3.2,img:'https://images.unsplash.com/photo-1526304640581-d334cdbbf45e?auto=format&fit=crop&w=600&q=60',desc:'Smooth-writing pens.'}
    ];

    const state = {
      cart: {}, // {productId: qty}
      filter:{query:'',category:'',sort:'default'}
    };

    /* -----------------
       Helpers
       -----------------*/
    const $ = (sel)=>document.querySelector(sel)
    const formatPrice = (n)=>'$'+n.toFixed(2)

    /* -----------------
       Render products
       -----------------*/
    function throttle(fn,wait=200){let t;return(...a)=>{if(t)return;fn(...a);t=setTimeout(()=>t=null,wait)}}

    function getFiltered(){
      let list = products.filter(p=>{
        const q = state.filter.query.trim().toLowerCase();
        if(q && !(p.name.toLowerCase().includes(q) || (p.desc||'').toLowerCase().includes(q))) return false;
        if(state.filter.category && p.category !== state.filter.category) return false;
        return true;
      });

      if(state.filter.sort === 'price-asc') list.sort((a,b)=>a.price-b.price);
      if(state.filter.sort === 'price-desc') list.sort((a,b)=>b.price-a.price);
      if(state.filter.sort === 'name-asc') list.sort((a,b)=>a.name.localeCompare(b.name));
      return list;
    }

    function renderProducts(){
      const grid = $('#productGrid');
      grid.innerHTML = '';
      const list = getFiltered();
      $('#productsCount').textContent = list.length;

      if(list.length === 0){
        grid.innerHTML = '<div class="empty">No products found.</div>';
        return;
      }

      for(const p of list){
        const card = document.createElement('article');
        card.className = 'card';
        card.innerHTML = `
          <div class="img-wrap"><img alt="${p.name}" src="${p.img}" loading="lazy"></div>
          <div class="card-body">
            <div class="title">${p.name}</div>
            <div class="meta">${p.category} • <span class="price">${formatPrice(p.price)}</span></div>
            <div class="muted" style="font-size:13px">${p.desc}</div>
          </div>
          <div class="card-foot">
            <button class="btn" data-add="${p.id}">Add to cart</button>
            <div style="margin-left:auto;color:#374151;font-weight:700">${formatPrice(p.price)}</div>
          </div>
        `;
        grid.appendChild(card);
      }
    }

    /* -----------------
       Cart logic & UI
       -----------------*/
    function saveCart(){
      try{localStorage.setItem('demo-cart',JSON.stringify(state.cart))}catch(e){}
    }
    function loadCart(){
      try{const v=JSON.parse(localStorage.getItem('demo-cart')||'{}');state.cart=v}catch(e){state.cart={}};
    }

    function cartCount(){
      return Object.values(state.cart).reduce((s,q)=>s+q,0);
    }

    function cartTotal(){
      return Object.entries(state.cart).reduce((sum,[id,q])=>{
        const p = products.find(x=>x.id==id);
        return sum + (p? p.price * q : 0);
      },0);
    }

    function renderCart(){
      $('#cartCount').textContent = cartCount();
      $('#cartTotal').textContent = formatPrice(cartTotal());
      const body = $('#cartBody');
      body.innerHTML = '';
      const ids = Object.keys(state.cart);
      if(ids.length===0){ body.innerHTML = '<div class="empty">Cart is empty. Add products to get started.</div>'; return }

      for(const id of ids){
        const p = products.find(x=>x.id==id);
        const qty = state.cart[id];
        const wrap = document.createElement('div');
        wrap.className = 'cart-item';
        wrap.innerHTML = `
          <img src="${p.img}" alt="${p.name}" />
          <div style="flex:1">
            <div style="font-weight:700">${p.name}</div>
            <div class="muted">${formatPrice(p.price)}</div>
            <div style="margin-top:6px;display:flex;gap:8px;align-items:center">
              <button class="qtybtn" data-decrease="${p.id}">-</button>
              <div style="min-width:22px;text-align:center">${qty}</div>
              <button class="qtybtn" data-increase="${p.id}">+</button>
            </div>
          </div>
          <div style="font-weight:700">${formatPrice(p.price * qty)}</div>
        `;
        body.appendChild(wrap);
      }
    }

    function addToCart(id,qty=1){
      state.cart[id] = (state.cart[id]||0) + qty;
      if(state.cart[id] <= 0) delete state.cart[id];
      saveCart(); renderCart();
    }

    function setUpEventDelegation(){
      // Add to cart buttons
      document.body.addEventListener('click',e=>{
        const add = e.target.closest('[data-add]');
        if(add){ addToCart(add.getAttribute('data-add')|0); return }

        const inc = e.target.closest('[data-increase]');
        if(inc){ addToCart(inc.getAttribute('data-increase')|0,1); renderCart(); return }

        const dec = e.target.closest('[data-decrease]');
        if(dec){ const id = dec.getAttribute('data-decrease')|0; state.cart[id] = (state.cart[id]||0) - 1; if(state.cart[id]<=0) delete state.cart[id]; saveCart(); renderCart(); return }
      });

      // Open / close cart
      $('#openCartBtn').addEventListener('click',()=>{ $('#cartPanel').style.display='flex'; $('#cartPanel').setAttribute('aria-hidden','false'); })
      $('#closeCartBtn').addEventListener('click',()=>{ $('#cartPanel').style.display='none'; $('#cartPanel').setAttribute('aria-hidden','true'); })

      // Search
      $('#searchInput').addEventListener('input',throttle((e)=>{ state.filter.query = e.target.value; renderProducts(); }))

      // Filters
      $('#categoryFilter').addEventListener('change',e=>{ state.filter.category = e.target.value; renderProducts(); })
      $('#sortBy').addEventListener('change',e=>{ state.filter.sort = e.target.value; renderProducts(); })

      $('#viewAllBtn').addEventListener('click',()=>{ $('#searchInput').value=''; state.filter.query=''; state.filter.category=''; state.filter.sort='default'; $('#categoryFilter').value=''; $('#sortBy').value='default'; renderProducts(); })

      // Checkout
      $('#checkoutBtn').addEventListener('click',()=>{
        if(cartCount()===0){ alert('Cart is empty'); return }
        $('#checkoutModal').style.display='flex';
      })
      $('#cancelCheckout').addEventListener('click',()=>$('#checkoutModal').style.display='none')
      $('#confirmCheckout').addEventListener('click',()=>{
        const name = $('#customerName').value.trim();
        const email = $('#customerEmail').value.trim();
        if(!name || !email){ alert('Please enter name and email'); return }
        // Demo: clear cart
        alert('Order placed! (demo)\nThanks, '+name+' — total: '+formatPrice(cartTotal()));
        state.cart = {}; saveCart(); renderCart(); $('#checkoutModal').style.display='none'; $('#cartPanel').style.display='none';
      })
    }

    /* -----------------
       Init
       -----------------*/
    function populateCategories(){
      const categories = [...new Set(products.map(p=>p.category))];
      const sel = $('#categoryFilter');
      categories.forEach(c=>{
        const opt = document.createElement('option'); opt.value=c; opt.textContent=c; sel.appendChild(opt);
      })
    }

    function init(){
      loadCart(); populateCategories(); renderProducts(); renderCart(); setUpEventDelegation();
    }

    init();
  </script>
    <section id="products" class="products">
        <h2>Our Electronics Collection</h2>
        <div class="product-grid">
            <div class="product-card"><img src="images/smartphone.jpg"><h3>Smartphone</h3><p>High‑performance smartphone.</p><button>Add to Cart</button></div>
            <div class="product-card"><img src="images/laptop.jpg"><h3>Laptop</h3><p>Powerful laptop for work.</p><button>Add to Cart</button></div>
            <div class="product-card"><img src="images/tablet.jpg"><h3>Tablet</h3><p>Lightweight daily tablet.</p><button>Add to Cart</button></div>
            <div class="product-card"><img src="images/tv.jpg"><h3>Smart TV</h3><p>4K smart television.</p><button>Add to Cart</button></div>
            <div class="product-card"><img src="images/headphones.jpg"><h3>Headphones</h3><p>Noise‑cancelling audio.</p><button>Add to Cart</button></div>
            <div class="product-card"><img src="images/camera.jpg"><h3>Camera</h3><p>High‑resolution camera.</p><button>Add to Cart</button></div>
            <div class="product-card"><img src="images/smartwatch.jpg"><h3>Smart Watch</h3><p>Health & fitness tracking.</p><button>Add to Cart</button></div>
            <div class="product-card"><img src="images/console.jpg"><h3>Game Console</h3><p>Next‑gen gaming.</p><button>Add to Cart</button></div>
            <div class="product-card"><img src="images/fridge.jpg"><h3>Refrigerator</h3><p>Energy‑efficient fridge.</p><button>Add to Cart</button></div>
            <div class="product-card"><img src="images/microwave.jpg"><h3>Microwave</h3><p>Compact microwave.</p><button>Add to Cart</button></div>
        </div>
    </section>
</body>
</html>
